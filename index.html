<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>منصة BingX</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<style>
:root{
  --bg1:#0f2027;
  --bg2:#203a43;
  --accent:#f1c40f;
  --card-bg:rgba(255,255,255,0.05);
  --text-muted:rgba(255,255,255,0.6);
  --btn-danger:#e74c3c;
  --success:#2ecc71;
  --warning:#f39c12;
  --error:#e74c3c;
}
body{
  margin:0;
  font-family:'Tajawal', sans-serif;
  background: linear-gradient(135deg,var(--bg1),var(--bg2));
  color:#fff;
  direction:rtl;
  overflow-x:hidden;
}
.container{max-width:1000px;margin:20px auto;padding:10px;}
.brand{font-size:28px;color:var(--accent);font-weight:700;margin-bottom:10px;text-align:center;display:flex;align-items:center;gap:10px;}
.card{background:var(--card-bg);padding:20px;border-radius:12px;margin-bottom:20px;box-shadow:0 8px 20px rgba(0,0,0,0.5);transition:0.3s;}
.card:hover{box-shadow:0 12px 30px rgba(0,0,0,0.7);}
.btn{padding:10px 16px;border:none;border-radius:8px;cursor:pointer;font-weight:600;transition:0.2s;margin-top:8px;}
.btn-primary{background:var(--accent); color:#000;}
.btn-ghost{background:transparent;border:1px solid #fff;color:#fff;}
.btn-danger{background:var(--btn-danger); color:#fff;}
.btn:hover{opacity:0.9;transform:translateY(-2px);}
input{width:100%;padding:10px;border-radius:6px;border:none;margin-top:6px;background:rgba(255,255,255,0.1);color:#fff;font-size:16px;}
input::placeholder{color:var(--text-muted);}
.muted{color:var(--text-muted);font-size:14px;margin-top:6px;}
.note{color:var(--text-muted);font-size:12px;margin-top:4px;}
.hidden{display:none;}
.main-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:12px;margin-top:15px;}
.stat-value{font-size:20px;font-weight:600;margin-top:6px;transition:1s;}
.glow{animation:glow 1s forwards;}
@keyframes glow{0%{text-shadow:0 0 0px #f1c40f;}50%{text-shadow:0 0 15px #f1c40f;}100%{text-shadow:0 0 0px #f1c40f;}}

/* نافذة منبثقة */
.modal{
  position:fixed;
  top:0;left:0;
  width:100%;height:100%;
  background:rgba(0,0,0,0.6);
  display:flex;
  justify-content:center;
  align-items:center;
  z-index:9999;
}
.modal-content{
  background:var(--card-bg);
  padding:20px;
  border-radius:12px;
  max-width:350px;
  text-align:center;
  box-shadow:0 8px 25px rgba(0,0,0,0.6);
}
.modal-icon{
  font-size:40px;
  margin-bottom:10px;
}
.success{color:var(--success);}
.warning{color:var(--warning);}
.error{color:var(--error);}
.modal-content h3{color:var(--accent);margin-bottom:10px;}
.modal-content p{color:#fff;margin-bottom:15px;}
.close-btn{
  background:var(--accent);
  border:none;
  padding:10px 18px;
  border-radius:8px;
  cursor:pointer;
  font-weight:bold;
  color:#000;
}
</style>
</head>
<body>
<div class="container">
  <!-- Login -->
  <div id="auth-card" class="card">
    <div class="brand"><i class="fas fa-coins"></i> BingX</div>
    <div id="login-block">
      <h3>تسجيل الدخول</h3>
      <input id="login-email" placeholder="البريد الإلكتروني" type="email">
      <input id="login-password" placeholder="كلمة المرور" type="password">
      <button class="btn btn-primary" onclick="login()">تسجيل الدخول</button>
    </div>
  </div>

  <!-- App -->
  <div id="app-card" class="hidden">
    <div class="main-grid">
      <section class="card">
        <h3>الحساب</h3>
        <div style="margin-top:8px">
          <div class="stat-value" id="real-balance">20</div>
          <div class="muted">رصيدك المتاح</div>
        </div>
        <div style="margin-top:8px">
          <div class="stat-value glow" id="demo-balance">0</div>
          <div class="muted">الرصيد التجريبي</div>
        </div>
        <button class="btn btn-danger" style="margin-top:12px" onclick="logout()">تسجيل الخروج</button>
      </section>

      <section class="card">
        <h3>إجراءات سريعة</h3>
        <input id="quick-amount" type="number" placeholder="مبلغ (للتجربة)">
        <div style="display:flex;gap:8px;justify-content:center;">
          <button class="btn btn-primary" onclick="quickAdd()">إضافة رصيد</button>
          <button class="btn btn-ghost" onclick="quickReset()">إعادة ضبط</button>
        </div>
        <p class="note">يمكنك إضافة الرصيد التجريبي مرة واحدة فقط.</p>
      </section>
    </div>
  </div>
</div>

<!-- نافذة منبثقة -->
<div id="modal" class="modal hidden">
  <div class="modal-content">
    <div id="modal-icon" class="modal-icon"></div>
    <h3 id="modal-title">إشعار</h3>
    <p id="modal-message"></p>
    <button class="close-btn" onclick="closeModal()">حسناً</button>
  </div>
</div>

<script>
function showModal(type,title,message){
  const icon=document.getElementById('modal-icon');
  icon.className="modal-icon"; // reset
  if(type==="success"){icon.innerHTML='<i class="fas fa-check-circle success"></i>';}
  else if(type==="warning"){icon.innerHTML='<i class="fas fa-exclamation-triangle warning"></i>';}
  else if(type==="error"){icon.innerHTML='<i class="fas fa-times-circle error"></i>';}
  document.getElementById('modal-title').innerText=title;
  document.getElementById('modal-message').innerText=message;
  document.getElementById('modal').classList.remove('hidden');
}
function closeModal(){
  document.getElementById('modal').classList.add('hidden');
}

function login(){
  const email=document.getElementById('login-email').value;
  if(!email){showModal("error","خطأ","الرجاء إدخال البريد الإلكتروني");return;}
  const name=email.split('@')[0];
  localStorage.setItem('loggedUser',name);
  showApp(name);
}
function logout(){
  localStorage.clear();
  document.getElementById('auth-card').classList.remove('hidden');
  document.getElementById('app-card').classList.add('hidden');
}
function showApp(name){
  document.getElementById('auth-card').classList.add('hidden');
  document.getElementById('app-card').classList.remove('hidden');
  document.getElementById('real-balance').innerText=20;
  document.getElementById('demo-balance').innerText=localStorage.getItem('demoBalance')||0;
}
function quickAdd(){
  if(localStorage.getItem('balanceAdded')){
    showModal("warning","تنبيه","يمكنك إضافة الرصيد التجريبي مرة واحدة فقط.");
    return;
  }
  let amt=parseFloat(document.getElementById('quick-amount').value)||0;
  if(amt<=0){showModal("error","خطأ","أدخل مبلغ صحيح لإضافته.");return;}
  let current=parseFloat(localStorage.getItem('demoBalance')||0);
  current+=amt;
  localStorage.setItem('demoBalance',current);
  localStorage.setItem('balanceAdded',true);
  animateBalance(current);
  showModal("success","نجاح","تمت إضافة "+amt+" إلى رصيدك التجريبي.");
}
function quickReset(){
  localStorage.setItem('demoBalance',0);
  localStorage.removeItem('balanceAdded');
  document.getElementById('demo-balance').innerText=0;
  showModal("success","إعادة ضبط","تمت إعادة تعيين الرصيد التجريبي إلى صفر.");
}
function animateBalance(amount){
  const el=document.getElementById('demo-balance');
  el.classList.add('glow');
  let start=parseFloat(el.innerText)||0;
  let end=amount;
  let step=(end-start)/30;
  let i=0;
  const interval=setInterval(()=>{
    if(i>=30){clearInterval(interval);el.classList.remove('glow');el.innerText=end.toFixed(2);return;}
    el.innerText=(start+step*i).toFixed(2);
    i++;
  },30);
}
document.addEventListener('DOMContentLoaded',()=>{
  const savedUser=localStorage.getItem('loggedUser');
  if(savedUser){showApp(savedUser);}
});
</script>
</body>
</html>
